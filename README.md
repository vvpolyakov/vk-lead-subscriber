# vk-lead-subscriber
Скрипт для подписки на url callback web-hook уведомления с лид-форм VK 

Исправьте скрипт, добавьте ваш clientid и client secret

запуск скрипта

```
node vk-lead-subscriber.js
```

Возможности:
* добавление нового callback URL в подписку
* удаление из подписки
  
Как известно, в новом рекламном кабинете VK пропала возможность ставить callback-уведомления на лид-формы. Я предполагаю, что это сделано для склонения рекламодателя к покупке платных сервисов интеграций типа zapier.
Но есть возможность подключить callback-уведомеления через API. Вам необходимо включить API в вашем рекламном кабинете и прописать выданные ключи в этот скрипт. 

На указанный URL будут приходить данные POST-запросом в формате JSON 

пример
```json
{
  "resource_id":111,
  "data":{
    "id":111,
    "banner_id":0,
    "lead_form_user_id":11111111,
    "contact_info":{"phone":"+79999999999","first_name":"Иван","email":"test-mail@mail.ru"},
    "time_for_call":[],
    "form_id":11111,
    "ad_plan_id":0,
    "ad_group_id":0,
    "created_at":"2024-01-23 14:01:19.693 +0000 UTC",
    "answers":[{"block_id":"1111111111111111","question_text":"","answer_ids":[],"answer_text":"Пользователь предпочел не отвечать на данный вопрос"}]
  },
  "resource":"LEAD",
  "id":"111111111111111111"
}
```

Сделано на коленке за час
